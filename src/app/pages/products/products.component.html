<div class="breadcrumb">
  <a [routerLink]="['/']">–ì–æ–ª–æ–≤–Ω–∞</a> > 
  <a [routerLink]="['/products']" [queryParams]="{ category: category }">
    {{ category === 'men' ? '–ß–æ–ª–æ–≤—ñ–∫–∞–º' : category === 'women' ? '–ñ—ñ–Ω–∫–∞–º' : category === 'shoes' ? '–í–∑—É—Ç—Ç—è' : category === 'accessories' ? '–ê–∫—Å–µ—Å—É–∞—Ä–∏' : '–°–ø–æ—Ä—Ç–∏–≤–Ω–∏–π –æ–¥—è–≥' }}
  </a>
  <!-- –î–æ–¥–∞—î–º–æ –ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—é –≤ breadcrumb, –ª–∏—à–µ —è–∫—â–æ –≤–æ–Ω–∞ –≤–∫–∞–∑–∞–Ω–∞ -->
  <ng-container *ngIf="subcategory">
    > 
    <a [routerLink]="['/products']" [queryParams]="{ category: category, subcategory: subcategory }">
      {{ subcategory === 'tshirts' ? '–§—É—Ç–±–æ–ª–∫–∏' : subcategory === 'hoodies' ? '–•—É–¥—ñ' : subcategory === 'dresses' ? '–°—É–∫–Ω—ñ' : subcategory === 'pants' ? '–®—Ç–∞–Ω–∏' : subcategory }}
    </a>
  </ng-container>
</div>

<main>
  <div class="container">
    <aside class="filters">
      <h2>
        {{ 
          subcategory 
            ? (subcategory === 'tshirts' ? '–§—É—Ç–±–æ–ª–∫–∏' : subcategory === 'hoodies' ? '–•—É–¥—ñ' : subcategory === 'dresses' ? '–°—É–∫–Ω—ñ' : subcategory === 'pants' ? '–®—Ç–∞–Ω–∏' : subcategory) 
            : (category === 'men' ? '–ß–æ–ª–æ–≤—ñ–∫–∞–º' : category === 'women' ? '–ñ—ñ–Ω–∫–∞–º' : category === 'shoes' ? '–í–∑—É—Ç—Ç—è' : category === 'accessories' ? '–ê–∫—Å–µ—Å—É–∞—Ä–∏' : '–°–ø–æ—Ä—Ç–∏–≤–Ω–∏–π –æ–¥—è–≥') 
        }}
      </h2>
      <ul>
        <!-- –§—ñ–ª—å—Ç—Ä–∏ –¥–ª—è —á–æ–ª–æ–≤—ñ–∫—ñ–≤ -->
        <ng-container *ngIf="category === 'men'">
          <li><a [routerLink]="['/products']" [queryParams]="{ category: category, subcategory: 'tshirts' }">–§—É—Ç–±–æ–ª–∫–∏</a></li>
          <li><a [routerLink]="['/products']" [queryParams]="{ category: category, subcategory: 'hoodies' }">–•—É–¥—ñ</a></li>
          <li><a [routerLink]="['/products']" [queryParams]="{ category: category, subcategory: 'pants' }">–®—Ç–∞–Ω–∏</a></li>
        </ng-container>
        <!-- –§—ñ–ª—å—Ç—Ä–∏ –¥–ª—è –∂—ñ–Ω–æ–∫ -->
        <ng-container *ngIf="category === 'women'">
          <li><a [routerLink]="['/products']" [queryParams]="{ category: category, subcategory: 'tshirts' }">–§—É—Ç–±–æ–ª–∫–∏</a></li>
          <li><a [routerLink]="['/products']" [queryParams]="{ category: category, subcategory: 'dresses' }">–°—É–∫–Ω—ñ</a></li>
          <li><a [routerLink]="['/products']" [queryParams]="{ category: category, subcategory: 'pants' }">–®—Ç–∞–Ω–∏</a></li>
        </ng-container>
        <!-- –§—ñ–ª—å—Ç—Ä–∏ –¥–ª—è —ñ–Ω—à–∏—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π (–±–µ–∑ –ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ–π) -->
        <ng-container *ngIf="category === 'shoes' || category === 'accessories' || category === 'sportswear'">
          <li><a [routerLink]="['/products']" [queryParams]="{ category: category, subcategory: category }">{{ category === 'shoes' ? '–í–∑—É—Ç—Ç—è' : category === 'accessories' ? '–ê–∫—Å–µ—Å—É–∞—Ä–∏' : '–°–ø–æ—Ä—Ç–∏–≤–Ω–∏–π –æ–¥—è–≥' }}</a></li>
        </ng-container>
      </ul>
      <div class="price-filter">
        <label>–¶—ñ–Ω–∞, –≥—Ä–Ω</label>
        <div class="price-range">
          <input type="number" [(ngModel)]="minPrice" (ngModelChange)="onPriceFilterChange()" min="0">
          <input type="number" [(ngModel)]="maxPrice" (ngModelChange)="onPriceFilterChange()" min="0">
        </div>
        <button (click)="onPriceFilterChange()">OK</button>
        <button (click)="resetPriceFilter()">–°–∫–∏–Ω—É—Ç–∏</button>
      </div>
    </aside>

    <section class="products">
      <div class="sort">
        <span>–°–æ—Ä—Ç—É–≤–∞—Ç–∏:</span>
        <a href="#" class="active">–∑–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ñ—Å—Ç—é</a>
        <a href="#">—Å–ø–æ—á–∞—Ç–∫—É –¥–µ—à–µ–≤—à–µ</a>
        <a href="#">—Å–ø–æ—á–∞—Ç–∫—É –¥–æ—Ä–æ–∂—á—ñ</a>
        <a href="#">–∑–∞ –Ω–∞–∑–≤–æ—é</a>
        <div class="view-options">
          <span>–í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è:</span>
          <button class="grid-view">‚ò∞</button>
          <button class="list-view">‚â°</button>
        </div>
      </div>

      <div class="product-list">
        <div class="product" *ngFor="let product of filteredProducts; trackBy: trackById">
          <!-- –î–æ–¥–∞—î–º–æ routerLink –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø–µ—Ä–µ–≥–ª—è–¥—É -->
          <a class="product-link" [routerLink]="['/product', product.id]" [queryParams]="{ category: product.category, subcategory: product.subcategory }">
            <img [src]="product.image" [alt]="product.name">
            <h3>{{ product.name }}</h3>
            <p>{{ product.price }} –≥—Ä–Ω</p>
            <button class="availability-btn">–í –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ</button>
            <!-- –Ü–∫–æ–Ω–∫–∏, —è–∫—ñ –∑‚Äô—è–≤–ª—è—é—Ç—å—Å—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–Ω—ñ -->
            <div class="product-actions">
              <button class="action-btn cart-btn" (click)="addToCart(product, $event)">üõí</button>
              <button class="action-btn wishlist-btn" (click)="addToWishlist(product, $event)">‚ô°</button>
              <button class="action-btn compare-btn" (click)="addToCompare(product, $event)">‚áÑ</button>
            </div>
          </a>
        </div>
      </div>
    </section>
  </div>
</main>